# mlops_2023_task1

### Установка VirtualBox и скачивание образа Ubuntu
1. Скачать VirtualBox с официального сайта (https://www.virtualbox.org/) и установить на компьютер.
2. Скачать образ диска (ISO-файл) Ubuntu 22.04 (https://ubuntu.com/download/desktop).

### Создание виртуальных машин data_srv и ml_srv, настройка SSH и проброс портов
1. При создании виртуальных машин выделитт по 50 GB оперативной памяти и перед запуском убедиться, что порядок загрузки начинается с оптического диска.
2. Установить SSH сервер в Ubuntu, выполнив команду:
   ```bash
   sudo apt update
   sudo apt install openssh-server
   ```
3. В VirtualBox, в настройках сети виртуальной машины, перейти в "Дополнительно" -> "Проброс портов".
4. Добавить новое правило проброса порта с хост-машины на гостевую ОС (data_srv: 2222 -> 22, ml_srv: 2223 -> 22).

### Подключение по SSH
Для подключения используйте IP-адрес хост-машины и проброщенный порт (например `ssh [пользователь]@localhost -p 2222` для data_srv и `ssh [пользователь]@localhost -p 2223` для ml_srv).

### Установка Python, DVC, Git в виртуальных машинах
1. Открыть терминал
2. Выполнить в терминале: `sudo apt update`
3. Выполнить в терминале: `sudo apt install software-properties-common`
4. Выполнить в терминале: `sudo add-apt-repository ppa:deadsnakes/ppa`
5. Выполнить в терминале: `sudo apt install python3.9-dev`
6. Выполнить в терминале: `sudo apt install curl`
7. Выполнить в терминале: `curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py`
8. Выполнить в терминале: `sudo apt install python3.9-venv`
9. Выполнить в терминале: `sudo python3.9 get-pip.py`
10. Выполнить в терминале: `sudo python3.9 -m pip install dvc dvc-gdrive pandas scikit-learn pyyaml`
11. Выполнить в терминале: `sudo apt install git`

### Загрузка данных
1. Скачать train.csv и test.csv из https://github.com/ramp-kits/titanic/tree/master/data

### Этапы по инструкции

1. В хранилище данных data_srv:
	• Загрузить датасет (произвольный, свой).  
	• Клонировать репозиторий проекта.  
	• Инициализировать git и dvc, сохранить в git (commit -m “Init project”).  
	• Организовать удаленное ssh хранилище, сохранить настройки в git и dvc(commit -m “Remote ssh server configuration”).  
2. В виртуальной машине ml_srv:
	• Установить dvc, осуществить клонирование репозитория из git и загрузку датасетов из dvc.  
	• Установить venv, запустить виртуальное окружение.  
	• Установить VSCode и сделать удаленное подключение к ml_srv через прокинутый порт по ssh, открыть рабочий репозиторий.  
	• Создать в dvc этап (stage) отбора признаков, сохранить в features.  
	• Создать в dvc этап (stage) преобразования признаков, сохранить в prepared.  
	• Проверить качество работы пайплайна данных командой dvc repro.  
	• Осуществить сохранение полученных артефактов в git и dvc (commit -m “Data pipeline”).  
	• Создать в dvc этап (stage) обучения модели, гиперпараметры использовать из файла params.yaml.  
	• Выполнить обучение модели dvc командой dvc repro, проверить правильность, сохранить результаты в git и dvc (commit -m “ML model with parameters”).  
	• Добавить скрипт для оценки метрики, сохранение в файл evaluate.json, метрику добавить под контроль dvc (флаг -M), проверить правильность, результаты сохранить в git и dvc(commit -m “Baseline”).  
	• Осуществить запуск пайплайна модели с изменением параметров, сохранением метрик, контролем экспериментов, добиться лучшей метрики, сохранить в git и dvc (commit-m “Experiment 1”).  
